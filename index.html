<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>URBAN SHIELD - Area Safety Awareness System</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>

  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="nav-brand">
        <i class="fas fa-shield-alt"></i>
        <div class="brand-text">
          <h1>URBAN SHIELD</h1>
          <p>Area Safety Awareness & Crime Detection System</p>
        </div>
      </div>
      <nav class="nav-menu">
        <a href="#home" class="nav-link active"><i class="fas fa-home"></i> Home</a>
        <a href="#safety-tips" class="nav-link"><i class="fas fa-exclamation-triangle"></i> Safety Tips</a>
        <a href="#report" class="nav-link"><i class="fas fa-file-alt"></i> Report Crime</a>
        <button id="darkModeToggle" class="dark-mode-btn">
          <i class="fas fa-moon"></i>
        </button>
        <a href="tel:100" class="emergency-btn">
          <i class="fas fa-phone"></i> Emergency: 100
        </a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">

    <!-- Hero Section -->
    <section id="home" class="hero-section">
      <div class="container">
        <div class="hero-content">
          <h2>Stay Safe in Ranchi</h2>
          <p>Interactive crime mapping and safety awareness for all areas of Ranchi, Jharkhand</p>
        </div>
      </div>
    </section>

    <!-- Search and Filter -->
    <section class="search-section">
      <div class="container">
        <div class="search-controls">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Search areas in Ranchi..." />
          </div>
          <select id="safetyFilter" class="filter-select">
            <option value="all">All Areas</option>
            <option value="safe">Safe Areas</option>
            <option value="caution">Caution Areas</option>
            <option value="danger">Danger Zones</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Dashboard -->
    <section class="dashboard">
      <div class="container">
        <div class="dashboard-grid">

          <!-- Interactive Map -->
          <div class="map-section">
            <div class="card">
              <div class="card-header">
                <h3><i class="fas fa-map-marker-alt"></i> Interactive Crime Map - Ranchi</h3>
              </div>
              <div class="card-content">
                <!-- Real Leaflet Map -->
                <div id="crimeMap" class="crime-map"></div>

                <!-- Selected Area Info -->
                <div id="selectedAreaInfo" class="area-info" style="display: none;">
                  <div class="area-header">
                    <h3 id="areaName"></h3>
                    <span id="areaSafetyBadge" class="safety-badge"></span>
                  </div>
                  <p id="areaDescription"></p>
                  <div class="area-stats">
                    <div class="stat"><span class="stat-label">Safety Score</span><span id="safetyScore" class="stat-value"></span></div>
                    <div class="stat"><span class="stat-label">Recent Incidents</span><span id="recentIncidents" class="stat-value danger-text"></span></div>
                  </div>
                  <div class="crime-types">
                    <span class="crime-label">Common Crimes:</span>
                    <div id="crimeTypesList" class="crime-badges"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Sidebar -->
          <div class="sidebar">
            <!-- Emergency Contacts -->
            <div class="card emergency-card">
              <div class="card-header"><h3><i class="fas fa-phone"></i> Emergency Contacts</h3></div>
              <div class="card-content">
                <div class="emergency-contact"><div class="contact-info"><i class="fas fa-shield-alt"></i><span>Police Emergency</span></div><a href="tel:100" class="contact-number">100</a></div>
                <div class="emergency-contact"><div class="contact-info"><i class="fas fa-laptop"></i><span>Cyber Crime Helpline</span></div><a href="tel:1930" class="contact-number">1930</a></div>
                <div class="emergency-contact"><div class="contact-info"><i class="fas fa-female"></i><span>Women Helpline</span></div><a href="tel:1091" class="contact-number">1091</a></div>
                <div class="emergency-contact"><div class="contact-info"><i class="fas fa-map-marker-alt"></i><span>Ranchi Police Control</span></div><a href="tel:06512446700" class="contact-number">0651-2446700</a></div>
              </div>
            </div>

            <!-- Quick Stats -->
            <div class="card">
              <div class="card-header"><h3><i class="fas fa-chart-line"></i> Quick Stats</h3></div>
              <div class="card-content">
                <div class="stat-card safe-stat"><div class="stat-number">1</div><div class="stat-text">Safe Areas</div></div>
                <div class="stat-card caution-stat"><div class="stat-number">3</div><div class="stat-text">Caution Areas</div></div>
                <div class="stat-card danger-stat"><div class="stat-number">2</div><div class="stat-text">Danger Zones</div></div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Area Grid -->
    <section class="areas-section">
      <div class="container">
        <h2>Area Safety Overview</h2>
        <div id="areasGrid" class="areas-grid"><!-- Populated by JS --></div>
      </div>
    </section>

    <!-- Safety Tips -->
    <section id="safety-tips" class="safety-tips-section">
      <div class="container">
        <h2>Safety Tips & Precautions</h2>
        <div class="tips-grid">
          <div class="tip-card">
            <div class="tip-icon">
              <i class="fas fa-eye"></i>
            </div>
            <h3>Stay Alert</h3>
            <ul>
              <li>Be aware of your surroundings</li>
              <li>Avoid using phones in crowded areas</li>
              <li>Trust your instincts</li>
              <li>Stay in well-lit areas at night</li>
            </ul>
          </div>
          <div class="tip-card">
            <div class="tip-icon">
              <i class="fas fa-users"></i>
            </div>
            <h3>Travel Smart</h3>
            <ul>
              <li>Travel in groups when possible</li>
              <li>Share your location with trusted contacts</li>
              <li>Use registered taxis/ride-sharing</li>
              <li>Avoid isolated routes</li>
            </ul>
          </div>
          <div class="tip-card">
            <div class="tip-icon">
              <i class="fas fa-mobile-alt"></i>
            </div>
            <h3>Emergency Preparedness</h3>
            <ul>
              <li>Keep emergency numbers handy</li>
              <li>Maintain phone battery</li>
              <li>Know nearest police stations</li>
              <li>Have backup communication</li>
            </ul>
          </div>
          <div class="tip-card">
            <div class="tip-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <h3>Personal Security</h3>
            <ul>
              <li>Don't display valuables openly</li>
              <li>Keep copies of important documents</li>
              <li>Inform someone about your plans</li>
              <li>Learn basic self-defense</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Crime Report Form -->
    <section id="report" class="report-section">
      <div class="container">
        <div class="report-card">
          <div class="card-header">
            <h2><i class="fas fa-file-alt"></i> Anonymous Crime Reporting</h2>
          </div>
          <div class="card-content">
            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              <strong>Important:</strong> For emergencies, call 100 or 1930. This form is for non-emergency reporting.
            </div>
            <form id="crimeReportForm" class="report-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="crimeType"><i class="fas fa-exclamation-triangle"></i> Crime Type *</label>
                  <select id="crimeType" required>
                    <option value="">Select crime type</option>
                    <option value="theft">Theft</option>
                    <option value="robbery">Robbery</option>
                    <option value="assault">Assault</option>
                    <option value="harassment">Harassment</option>
                    <option value="cybercrime">Cybercrime</option>
                    <option value="vehicle-theft">Vehicle Theft</option>
                    <option value="chain-snatching">Chain Snatching</option>
                    <option value="fraud">Fraud</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="crimeArea"><i class="fas fa-map-marker-alt"></i> Area in Ranchi *</label>
                  <select id="crimeArea" required>
                    <option value="">Select area</option>
                    <option value="dhurwa">Dhurwa</option>
                    <option value="morabadi">Morabadi</option>
                    <option value="harmu">Harmu</option>
                    <option value="namkom">Namkom</option>
                    <option value="patratu">Patratu</option>
                    <option value="birsa-munda">Birsa Munda Airport Area</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="incidentDateTime"><i class="fas fa-clock"></i> Date & Time of Incident</label>
                <input type="datetime-local" id="incidentDateTime" />
              </div>
              <div class="form-group">
                <label for="crimeDescription">Description of Incident *</label>
                <textarea id="crimeDescription" rows="6" required placeholder="Provide details about the incident."></textarea>
              </div>
              <div class="alert alert-success">
                <i class="fas fa-check-circle"></i>
                <strong>Anonymous Reporting:</strong> No personal data is collected.
              </div>
              <div class="form-actions">
                <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Submit Report</button>
                <button type="button" id="clearForm" class="btn btn-secondary"><i class="fas fa-eraser"></i> Clear Form</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Recent Reports -->
    <section id="recentReportsSection" class="section">
      <div class="container">
        <h2 class="section-title">Recent Crime Reports</h2>
        <div id="recentReports" class="reports-container">
          <!-- Reports from localStorage will be injected here by script.js -->
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-section">
          <h3>Emergency Services</h3>
          <p>Police: <a href="tel:100">100</a></p>
          <p>Cyber Crime: <a href="tel:1930">1930</a></p>
          <p>Women Helpline: <a href="tel:1091">1091</p>
        </div>
        <div class="footer-section">
          <h3>Important Links</h3>
          <p><a href="https://ranchi.nic.in/police/">Ranchi Police Website</a></p>
          <p>Jharkhand Police Portal</p>
          <p>Crime Statistics</p>
        </div>
        <div class="footer-section">
          <h3>Disclaimer</h3>
          <p>This site provides general safety info. Always contact authorities for emergencies.</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Ranchi Crime Safety Portal. Built for community awareness.</p>
      </div>
    </div>
  </footer>

  <!-- Success Modal -->
  <div id="successModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <i class="fas fa-check-circle success-icon"></i>
        <h2>Report Submitted Successfully</h2>
      </div>
      <div class="modal-body">
        <p>Thank you for helping make Ranchi safer. Your report has been submitted anonymously.</p>
        <div class="report-details">
          <p>Report ID: #<span id="reportId"></span></p>
          <p>Submitted: <span id="submitTime"></span></p>
        </div>
      </div>
      <div class="modal-footer">
        <button id="closeModal" class="btn btn-primary">Close</button>
      </div>
    </div>
  </div>

  <!-- Leaflet JavaScript -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- JavaScript -->
  <script src="script.js"></script>

</body>
</html>
